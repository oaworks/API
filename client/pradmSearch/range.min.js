P.search.range=function(a){var e,r,t,l,n,s,i,d,u,o,g,p,c,h,y,v;if(null==(a=null==a?{}:a).ranges&&(a.ranges={createdAt:{name:"Created",date:{value:function(e){var t;return 10<(e="string"==typeof e?parseInt(e):e).toString().length&&(t=Math.floor(e/1e3)),t-=t%86400},display:function(e){return(e="string"==typeof e?parseInt(e):e).toString().length<=10&&(e*=1e3),(e=new Date(e)).getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},submit:function(e,t){e=(e="string"==typeof e?parseInt(e):e).toString().length<=10?1e3*e:e;return t&&(e+=86400),e}},step:86400,min:1356998400}}),a.ranges){for(P("."+a.class+".range")||(P("."+a.class+".options")?P.append("."+a.class+".options",'<div class="'+a.class+' range display"></div>'):obj.append('<div class="'+a.class+' range display"></div>')),P.html("."+a.class+".range",""),h=[],t=0,n=(u=a.ranges).length;t<n;t++){y=null!=(o=(d=u[t]).step)?o:1,null==d.min&&(d.min=946684800),null==d.max&&(d.max=Math.floor((new Date).valueOf()/1e3)+86400),v=[d.min,d.max];try{for(g=a.query.query.bool.filter,l=0,s=g.length;l<s;l++)(e=g[l]).range&&e.range[d]&&(a.query.query.filter[e].range[d].gte&&(v[0]=parseInt(a.query.query.filter[e].range[d].gte)),a.query.query.filter[e].range[d].lte&&(v[1]=parseInt(a.query.query.filter[e].range[d].lte)),null!=(p=d.date)&&p.value&&(v[0]=d.date.value(v[0]),v[1]=d.date.value(v[1])))}catch(e){}o=null!=(c=d.name)?c:d,i=null!=(c=d.date)&&c.display?d.date.display(v[0]):v[0],r=null!=(c=d.date)&&c.display?d.date.display(v[1]):v[1],o='<div class="col-md-12"><div class="input-group" style="border:1px solid #ccc;border-radius:5px;margin-bottom:3px;"> <div class="input-group-btn"> <button class="rangebutton" style="border:none;border-right:1px solid #ccc;padding-right:5px;cursor:default;width:90px;">'+o+"</button> </div>",o+='<div style="padding:0px 10px 0px 20px;"><input key="'+d+'" style="width:100%;" class="'+a.class+' ranger" type="text"/></div>',o+="</div></div>",P.append("."+a.class+".range",o),h.push(P("."+a.class+".ranger").last().slider({min:a.ranges[d].min,max:a.ranges[d].max,value:v,step:y,tooltip:"hide"}).on("slide",function(e){var t;return i=null!=(t=a.ranges[$(this).attr("key")].date.display(e.value[0]))?t:e.value[0],P.text("."+a.class+".rangelow."+d,i),r=null!=(t=a.ranges[P.attr(this,"key")].date.display(e.value[1]))?t:e.value[1],P.text("."+a.class+".rangehigh."+d,r),P.attr(".search","pre",P.attr(".search","placeholder")),P.attr(".search","placeholder",(null!=(e=a.ranges[P.attr(this,"key")].name)?e:P.attr(this,"key"))+": "+i+" to "+r)}).on("slideStop",function(e){var t;return i=null!=(t=a.ranges[$(this).attr("key")].date.submit(e.value[0]))?t:e.value[0],P.attr(this,"val",i),P.attr(this,"range","from"),a.add(void 0,this),r=null!=(t=a.ranges[P.attr(this,"key")].date.submit(e.value[1],!0))?t:e.value[1],P.attr(this,"val",r),P.attr(this,"range","to"),a.add(void 0,$(this)),P.attr(".search","placeholder",P.attr(".search","pre"))}))}return h}};