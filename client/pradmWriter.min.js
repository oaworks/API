var indexOf=[].indexOf;P.writer={},P.writer.numbering=function(){var o=[0],a=0,l=0;return P("header",function(t){var e,r,n=P.classes(t);if(indexOf.call(n,"ignore")<0){if(0<(e=(n=t.nodeName.replace(/[A-z]/gi,""))-(l=0===l?n:l)))a=o.push(1)-1;else if(0==e)o[a]=o[a]+1;else if(e<0){for(r=0;e<r;)o.pop(),r-=1;o[a+=e]=o[a]+1}return l=n,P.html(t,o.toString().replace(/,/gi,".")+P.html(t))}})},P.writer.toc=function(o){var a,t,e,l;null==(o=null==o?{}:o).contents&&(o.contents=".contents"),null==o.start&&(o.start=2);try{"string"==typeof o.start&&(o.start=parseInt(o.start.toLowerCase().replace("h","")))}catch(t){}null==o.depth&&(o.depth=2);try{"string"==typeof o.depth&&(o.depth=parseInt(o.depth.toLowerCase().replace("h",""))-o.start)}catch(t){}for(null==o.end&&(o.end=o.start+o.depth),null==o.offset&&(o.offset=70),l='<div class="P_contents" style="font-size:0.9em; overflow-y:auto; height:100%;"><ul>',t="",e=o.start;e<o.end;)t+=(t?",h":"h")+e,e++;return a=0,P(t,function(t){var e,r,n;if(a++,indexOf.call(P.classes(t),"ignore")<0){for(e=P.html(t),P.prepend(t,'<a name="toc'+a+'"></a>'),l+="<li>",n=0,r=2*(parseInt(t.nodeName.toLowerCase().replace("h",""))-o.start);n<r;)l+="&nbsp;",n++;return l+='<a class="goto" href="#toc'+a+'">'+e+"</a></li>"}}),P.html(o.contents,l+"</ul></div>"),P.on("click",".goto",function(t){return t.preventDefault(),window.scrollTo(0,P(P.attr(t.target,"href").replace("#","")).offsetTop-o.offset)})},P.writer.figures=function(){var e=0;return P(".figure",function(t){return P.html(t,"Figure "+e+++": "+P.html(t))})};